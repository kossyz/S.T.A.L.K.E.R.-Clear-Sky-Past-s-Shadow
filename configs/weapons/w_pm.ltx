[wpn_pm]:identity_immunities,weapon_probability,default_weapon_params
GroupControlSection			= spawn_group
discovery_dependency			=
$spawn					= "weapons\pm"
$npc					= on			
$prefetch				= 8
scheduled				= off
cform					= skeleton
class					= WP_PM
min_radius				= 0
max_radius				= 50
description				= st_wpn_pm_descr

ef_weapon_type				= 5

default_to_ruck				= false
sprint_allowed				= true

;---DOF-------------------------------------------------------------------------
;zoom_dof				= -1000, 1, 1000
reload_dof				= 0, 0.5, 5, 2.25
;-------------------------------------------------------------------------------

;--- scope weapons -------------------------------------------------------------
holder_range_modifier			= 1
holder_fov_modifier			= 1
;-------------------------------------------------------------------------------

upgrades				= up_gr_ab_pm, up_gr_cd_pm, up_gr_e_pm, up_gr_f_pm, up_gr_g_pm, up_gr_h_pm
installed_upgrades			=
upgrade_scheme				= upgrade_scheme_u10a

cost					= 300

;ammo_limit				= 120
;ammo_current				= 96
ammo_elapsed				= 8

ammo_mag_size				= 8
ammo_class				= ammo_9x18_fmj, ammo_9x18_pmm
fire_modes				= 1

hand_dependence				= 1
single_handed				= 1

slot					= 1
animation_slot				= 1

inv_name				= st_wpn_pm
inv_name_short				= st_wpn_pm
inv_weight				= 0.73						; 0.5

inv_grid_width				= 2						; 1
inv_grid_height				= 1
inv_grid_x				= 2
inv_grid_y				= 38						; 6

kill_msg_x				= 227
kill_msg_y				= 82
kill_msg_width				= 27
kill_msg_height				= 23

;-------------------------------------------------------------------------------

fire_dispersion_base			= 0.9
control_inertion_factor			= 1

cam_relax_speed				= 8
cam_relax_speed_ai			= 360
cam_dispersion				= 0.5
cam_dispersion_inc			= 0.5
cam_dispersion_frac			= 1
cam_max_angle				= 5
cam_max_angle_horz			= 5
cam_step_angle_horz			= 1

fire_dispersion_condition_factor	= 5
misfire_probability			= 0.001
misfire_condition_k			= 0.05						; decane: missing by default
condition_shot_dec			= 0.0002

;-------------------------------------------------------------------------------

position				= -0.021, -0.085, 0
orientation				= 0, 0, 0

fire_point				= 0, 0.133, 0.161

flame_particles				= weapons\generic_weapon03
smoke_particles				= weapons\generic_shoot_00

shell_point				= 0, 0.133, 0.047
shell_dir				= 0, 0, 0.4
shell_particles	 			= weapons\generic_shells_mirror

PDM_disp_base				= 1
PDM_disp_vel_factor			= 0.2
PDM_disp_accel_factor			= 0.2
PDM_disp_crouch				= 1
PDM_disp_crouch_no_acc			= 1

hit_power				= 0.3						; 0.5, 0.5, 0.5, 0.5
hit_impulse				= 1						; 75
hit_type				= fire_wound

silencer_hit_power			= 0.3
silencer_hit_impulse			= 1						; 80
silencer_fire_distance			= 700						; 100
silencer_bullet_speed			= 315						; 220

hit_probability_gd_novice		= 1
hit_probability_gd_stalker		= 1
hit_probability_gd_veteran		= 1
hit_probability_gd_master		= 1

fire_distance				= 700						; 30
bullet_speed				= 315						; 200
rpm					= 250
;rpm_empty_click			= 200

use_aim_bullet				= true
time_to_aim				= 1

hud					= wpn_pm_hud

;--STRAP PARAMETERS-----------------------------------------------------------------

visual					= dynamics\weapons\wpn_pm\wpn_pm.ogf

light_color				= 0.6, 0.5, 0.3
light_range				= 3
light_var_color				= 0.05
light_var_range				= 0.5
light_time				= 0.2

ph_mass					= 0.73						; 1

scope_status				= 0
silencer_status				= 2
grenade_launcher_status			= 0

zoom_enabled				= true
;zoom_rotate_time			= 0.25
scope_zoom_factor			= 75						; 55

silencer_name				= wpn_addon_silencer
silencer_x				= 52						; 39
silencer_y				= -18						; -16

snd_draw						= weapons\generic_draw
snd_holster						= weapons\generic_holster
snd_shoot						= weapons\n_pm_shot
snd_silncer_shot			= weapons\n_pb_shot

snd_empty						= weapons\pistol_empty
snd_reload						= weapons\pm_reload
;snd_close				= weapons\generic_close

;silencer_flame_particles		= weapons\generic_weapon01
silencer_smoke_particles		= weapons\generic_shoot_00

silencer_light_color			= 0.6, 0.5, 0.3
silencer_light_range			= 0.01
silencer_light_var_color		= 0.05
silencer_light_var_range		= 0.5
silencer_light_time			= 0.2

[wpn_pm_hud]:hud_base
zoom_hide_crosshair			= true

hands_position			= -0.031,-0.17,0
hands_orientation			= -0.5,1.,1.15

hands_position_16x9			= -0.031,-0.17,0
hands_orientation_16x9			= -0.5,1.,1.15

item_position				= 0.000746,-0.000321,0.003479
item_orientation				= 1.239378,-0.134046,-2.052052

aim_hud_offset_pos 			= -0.1022,0.0562,-0.05
aim_hud_offset_rot 			= 0.0088,0.0145,-0.015

aim_hud_offset_pos_16x9 			= -0.1022,0.0562,-0.05
aim_hud_offset_rot_16x9 			= 0.0088,0.0145,-0.015

shell_point				= 0,0,0
shell_bone              			= gilza

fire_point				= 0,0,0
fire_bone               				= muzzle

item_visual             	= dynamics\weapons\wpn_pm\wpn_pm_hud.ogf
attach_place_idx				= 0

anm_show				= pm_draw
anm_show_empty				= pm_draw, opened
anm_hide            				= pm_holster
anm_hide_empty				= pm_holster, opened
anm_idle            				= pm_idle
anm_idle_empty      			= pm_idle, opened
anm_shots				= pm_shoot, shoot
anm_shot_l				= pm_shoot, shoot_last
anm_idle_aim				= pm_idle_aim
anm_idle_aim_empty			= pm_idle_aim, opened	
anm_reload				= pm_reload, reload
anm_reload_empty			= pm_reload_empty, reload_empty
anm_idle_moving				= pm_idle_moving
anm_idle_moving_empty			= pm_idle_moving, opened
anm_idle_sprint				= pm_idle_sprint
anm_idle_sprint_empty			= pm_idle_sprint, opened
anm_bore				= pm_idle_aim
anm_bore_empty				= pm_idle_aim, opened

gl_hud_offset_pos				= 0,0,0
gl_hud_offset_rot				= 0,0,0

lean_hud_offset_pos			= 0,0,0
lean_hud_offset_rot			= 0,0,0

;-----------------------------------------------------------------------------
; Custom
;-----------------------------------------------------------------------------

[wpn_pm_minigame]:wpn_pm
ammo_limit				= 100
ammo_class				= ammo_minigame
fire_modes				= 1
$spawn					= "weapons\wpn_pm_minigame"
cost					= 0
quest_item				= true
upgrades				= up_gr_ab_pm, up_gr_cd_pm, up_gr_e_pm, up_gr_f_pm, up_gr_g_pm, up_gr_h_pm
installed_upgrades			= up_b_pm, up_d_pm, up_bd_pm
upgrade_scheme				= upgrade_scheme_u10a

;-----------------------------------------------------------------------------

[wpn_pm_up]:wpn_pm
$spawn					= "weapons\pm_up"
upgrades				= up_gr_ab_pm, up_gr_cd_pm, up_gr_e_pm, up_gr_f_pm, up_gr_g_pm, up_gr_h_pm
installed_upgrades			= up_e_pm, up_f_pm, up_h_pm
upgrade_scheme				= upgrade_scheme_u10a

;-----------------------------------------------------------------------------

[wpn_pm_9x19]:wpn_pm
$spawn					= "weapons\pm_9x19"
upgrades				= up_gr_ab_pm, up_gr_cd_pm, up_gr_e_pm, up_gr_f_pm, up_gr_g_pm, up_gr_h_pm
installed_upgrades			= up_g_pm, up_h_pm
upgrade_scheme				= upgrade_scheme_u10a

[wpn_pm_nimble]:wpn_pm
$spawn                  	= "weapons\pm_nimble"		; option for Level Editor
inv_name			= st_gar_quest_wpn_pm
description			= st_gar_quest_wpn_pm_descr

inv_grid_width			= 2
inv_grid_height			= 1
inv_grid_x				= 0
inv_grid_y				= 38

snd_shoot						= weapons\n_pmm_shot

hud                     = wpn_pm_nimble_hud

visual                  = dynamics\weapons\wpn_pm\wpn_pm_nimble.ogf

[wpn_pm_nimble_hud]:wpn_pm_hud
item_visual					= dynamics\weapons\wpn_pm\wpn_pm_nimble_hud